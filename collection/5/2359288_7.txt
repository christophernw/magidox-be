Dogs are usually very resitant to going in their crates (they don't like to sh** where they sleep).  Is the dog crate too big for the dog?  The crate should only be big enough for the dog to stand up, turn around and lay down.  If it is too big, try stuffing an old pillow or blanket in the crate to cut the size of the crate in half. . . Second, you should try taking the dog out only on a leash..never on her own so that you can stay with her and SEE that she goes to the bathroom.  If she doesn't go you just have to wait it out until she does and don't let her in until then.  once she goes be sure to praise her.. . i agree with what the other person said...if she is a shelter dog she may be going through a lot of stress and your yelling is just adding to it.. . Are you training her in any other ways?  Sit, stay?  How is she doing with that?  If she is learning basic command, you may want to take her to a vet to see if she has incontenence.  If she does, your vet can prescribe medications to help.  Good luck!
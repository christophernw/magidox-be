Make sure you are doing the potty training right!!!  Many people do it wrong.. . The crate must be just large enough for the dog, put cardboard box in there if there's too much room.. . If the dog still poops in crate.  It may have other issues like parasites, stress, etc.  Have him checked out by a vet.. . If it stops pooping in crate, great, keep it in there for 1 hour, take him out ON A LEASH to potty, then put him back in the crate for another hour and take him out again.  Gradually increase the time to up to 4 hours.  While potty, say encouraging things to it.  After it poops, give it a treat, and let it play for 15 min or so, and then back to the crate.  Make sure he has water at all times.  It takes about a week (some dogs take longer) to crate train a dog.. . Don't ever hit a dog or let it smell its own poop etc.  It might make you feel better, but does nothing to help the dog.  It actually harms your relationship with the dog.
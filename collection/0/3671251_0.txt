Unfortunately, the origins are lost in the mists of time. The Romans referred to the middle finger as the digitus impudicus (Indecent digit) and writings suggest that flipping the middle finger was offensive. But it is also culture based. You might see in some British comedies characters forming a V and giving a raspberry (a "phthbt" noise with the tongue and lips) which is apparently a very rude gesture in England.
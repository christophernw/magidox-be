Madeye Moody was an imposter. The real Madeye was kept prisoner in a magical chest. The imposter was working for Voldemort.. . (Moody was rescued at the end of the book/movie.)
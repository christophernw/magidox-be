You should try "Urine Gone" for the carpets, I heard that works very well. I am not sure that you can do anything about the walls. The vinegar trick does not work!
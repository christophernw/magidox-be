Gravity is the main factor, but doesn't the earths' magnetic field also help by preventing the solar wind from slowly stripping it away?
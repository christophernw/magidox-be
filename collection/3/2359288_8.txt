Our dog was the same at 5 months old she used to do the samething, but we did not get her from the rescue place, anyway try putting newspapers on the floor all over your house, makesure every bit of floor is covered cos if it isn't then she will keep on wrecking your house.. . Once he learns to go on the paper you will be one step closer to training the puppy, also if you see him going for a pee or a poop then put him on the paper it will take time but it does work, also book him into a training class, you say you have tried it but keep him going on a regular basis, but once he has sorted himself out then things will start to get easier for you.. . Also go and see the rescue centre and ask them why did they lie to you about him being trained? if they give you some excuse speak to the manager or owner demand an answer from them.. . Cos they should never of given you a dog that is not trained either house trained or toilet trained.. . Hope this helps you and good luck